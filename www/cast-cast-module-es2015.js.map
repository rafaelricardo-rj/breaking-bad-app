{"version":3,"sources":["./src/app/pages/cast/cast.page.html","./src/app/pages/cast/cast-routing.module.ts","./src/app/pages/cast/cast.module.ts","./src/app/pages/cast/cast.page.scss","./src/app/pages/cast/cast.page.ts"],"names":[],"mappings":"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","file":"cast-cast-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar color=\\\"primary\\\">\\n    <ion-title class=\\\"ion-text-center\\\">Breaking Bad</ion-title>\\n    <ion-buttons slot=\\\"end\\\">\\n        <ion-button (click)=\\\"goToCredits()\\\">\\n          <ion-icon slot=\\\"icon-only\\\" ios=\\\"ellipsis-vertical\\\" md=\\\"ellipsis-vertical\\\"></ion-icon>\\n        </ion-button>\\n      </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content *ngIf=\\\"chars.length > 0\\\">\\n\\n    <ion-list id=\\\"characters-list\\\">\\n        <ion-item button detail lines=\\\"inset\\\" *ngFor=\\\"let character of chars\\\" (click)=\\\"openDetails(character)\\\">\\n            <ion-avatar slot=\\\"start\\\">\\n                <img src=\\\"{{ character.img }}\\\">\\n            </ion-avatar>\\n            <ion-label>\\n                <h2>{{ character.name }}</h2>\\n                <p>Birthday {{ character.birthday }}</p>\\n            </ion-label>\\n        </ion-item>\\n    </ion-list>\\n    <ion-infinite-scroll threshold=\\\"15%\\\" id=\\\"infinite-scroll\\\" (ionInfinite)=\\\"loadData($event)\\\">\\n        <ion-infinite-scroll-content loading-spinner=\\\"bubbles\\\" loading-text=\\\"Loading more data...\\\" style=\\\"background-color:rgb(255, 255, 255, 0.7);\\\">\\n        </ion-infinite-scroll-content>\\n    </ion-infinite-scroll>\\n</ion-content>\\n<!-- if there are no results from the API, apply an empty content to allow a dark layer over the background image-->\\n<ion-content fullscreen=\\\"true\\\" *ngIf=\\\"chars.length == 0 || chars == null\\\"></ion-content>\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { CastPage } from './cast.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CastPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class CastPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { CastPageRoutingModule } from './cast-routing.module';\n\nimport { CastPage } from './cast.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    CastPageRoutingModule\n  ],\n  declarations: [CastPage]\n})\nexport class CastPageModule {}\n","export default \"ion-content {\\n  --background: rgb(0, 0, 0, 0.5);\\n}\\n\\nion-list {\\n  background-color: rgba(255, 255, 255, 0.7);\\n}\\n\\nion-item {\\n  --background: rgb(255, 255, 255, 0);\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi93b3Jrc3BhY2UvYnJlYWtpbmctYmFkLWFwcC9zcmMvYXBwL3BhZ2VzL2Nhc3QvY2FzdC5wYWdlLnNjc3MiLCJzcmMvYXBwL3BhZ2VzL2Nhc3QvY2FzdC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSwrQkFBQTtBQ0NGOztBREVBO0VBQ0UsMENBQUE7QUNDRjs7QURFQTtFQUNFLG1DQUFBO0FDQ0YiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9jYXN0L2Nhc3QucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLWNvbnRlbnQge1xuICAtLWJhY2tncm91bmQ6IHJnYigwLCAwLCAwLCAwLjUpO1xufVxuXG5pb24tbGlzdCB7XG4gIGJhY2tncm91bmQtY29sb3I6cmdiKDI1NSwgMjU1LCAyNTUsIDAuNyk7OyAgXG59XG5cbmlvbi1pdGVtIHtcbiAgLS1iYWNrZ3JvdW5kOiByZ2IoMjU1LCAyNTUsIDI1NSwgMCk7XG59IiwiaW9uLWNvbnRlbnQge1xuICAtLWJhY2tncm91bmQ6IHJnYigwLCAwLCAwLCAwLjUpO1xufVxuXG5pb24tbGlzdCB7XG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC43KTtcbn1cblxuaW9uLWl0ZW0ge1xuICAtLWJhY2tncm91bmQ6IHJnYigyNTUsIDI1NSwgMjU1LCAwKTtcbn0iXX0= */\"","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { ApiService } from 'src/app/services/api.service';\nimport { ToastController } from '@ionic/angular';\nimport { HelperService } from 'src/app/services/helper.service';\nimport { LoadingSingletonService } from '../../services/loading-singleton.service';\n\n@Component({\n  selector: 'app-cast',\n  templateUrl: './cast.page.html',\n  styleUrls: ['./cast.page.scss'],\n})\nexport class CastPage implements OnInit {\n\n    chars = [];\n    /**\n     * This request would give you an array of 15 characters, starting at index 0 (the 1 first id).\n     */\n    limit = 15;\n    index = 0;\n    maxCharacters = 63;\n\n    constructor(\n        private router: Router, \n        private api: ApiService, \n        public toastController: ToastController,\n        public helpService: HelperService,\n        public loading : LoadingSingletonService// check this class to see the comments and find out where it comes from\n        ) { }\n\n    ngOnInit() {\n       this.loadCharsLoading();\n    }\n\n    async loadCharsLoading(){\n        this.loading.show();\n        this.api.getPaginatedCharacters(this.limit, this.index)\n            .subscribe(res => {  \n                this.chars = this.chars.concat(res);\n                this.loading.dismiss();\n            }, erro => {\n                if(erro.status) {\n                  this.helpService.toastHttpCodeError(erro.status);\n                }\n            })\n    }\n\n    // event parameter can be null\n    loadChars(event?){\n        \n        this.api.getPaginatedCharacters(this.limit, this.index)\n            .subscribe(res => {  \n                this.chars = this.chars.concat(res);\n                if(event){\n                    /**\n                    * Source: https://ionicframework.com/docs/api/infinite-scroll\n                    * Call complete() within the ionInfinite output event handler when your async operation has completed. \n                    * For example, the loading state is while the app is performing an asynchronous operation, such as receiving \n                    * more data from an AJAX request to add more items to a data list. Once the data has been received and UI updated, \n                    * you then call this method to signify that the loading has completed. This method will change the infinite scroll's \n                    * state from loading to enabled.\n                    */\n                    event.target.complete();\n                }\n            }, erro => {\n                if(erro.status) {\n                  this.helpService.toastHttpCodeError(erro.status);\n                }\n            })\n    }\n\n    loadData(event?){\n        this.index += 15;\n        this.loadChars(event);\n        if(this.index > this.maxCharacters-1){\n            event.target.disable = true;\n        }\n    }\n\n    openDetails(character) {\n\t\n        this.router.navigateByUrl(`/tabs/cast/${character.char_id}`);\n        \n    }\n\n    goToCredits(){\n        this.router.navigateByUrl(`credits`);\n    }\n\n}\n"],"sourceRoot":"webpack:///"}